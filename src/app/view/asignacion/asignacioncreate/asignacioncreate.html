<div class="container mt-4">
  <h3>Gesti√≥n de Asignaciones</h3>

  <!-- Formulario -->
  <form (ngSubmit)="editMode ? updateAsignacion() : createAsignacion()" class="mb-4">

    <div class="mb-2">
      <label>Carrera ID:</label>
      <input type="number" [(ngModel)]="asignacion.carreraid" name="carreraid" class="form-control" required>
    </div>

    <div class="mb-2">
      <label>Plan:</label>
      <input type="text" [(ngModel)]="asignacion.plan" name="plan" class="form-control" required>
    </div>

    <div class="mb-2">
      <label>Ciclo:</label>
      <input type="text" [(ngModel)]="asignacion.ciclo" name="ciclo" class="form-control" required>
    </div>

    <div class="mb-2">
      <label>Modalidad:</label>
      <select [(ngModel)]="asignacion.modalidad" name="modalidad" class="form-control">
        <option value="PRESENCIAL">Presencial</option>
        <option value="VIRTUAL">Virtual</option>
        <option value="MIXTA">Mixta</option>
      </select>
    </div>

    <div class="mb-2">
      <label>Cantidad de Secciones:</label>
      <input type="number" [(ngModel)]="asignacion.cantidad_secciones" name="cantidad_secciones" class="form-control">
    </div>

    <div class="form-check mb-2">
      <input type="checkbox" [(ngModel)]="asignacion.estado" name="estado" class="form-check-input">
      <label class="form-check-label">Activo</label>
    </div>

    <button type="submit" class="btn btn-success">
      {{ editMode ? 'Actualizar' : 'Crear' }}
    </button>
    <button type="button" class="btn btn-secondary ms-2" (click)="resetForm()">Cancelar</button>
  </form>

  <!-- Tabla -->
  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>Carrera</th>
        <th>Plan</th>
        <th>Ciclo</th>
        <th>Modalidad</th>
        <th>Secciones</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let asig of asignaciones">
        <td>{{ asig.id }}</td>
        <td>{{ asig.carreraid }}</td>
        <td>{{ asig.plan }}</td>
        <td>{{ asig.ciclo }}</td>
        <td>{{ asig.modalidad }}</td>
        <td>{{ asig.cantidad_secciones }}</td>
        <td>
          <span [class.text-success]="asig.estado" [class.text-danger]="!asig.estado">
            {{ asig.estado ? 'Activo' : 'Inactivo' }}
          </span>
        </td>
        <td>
          <button class="btn btn-warning btn-sm" (click)="editAsignacion(asig)">Editar</button>
          <button class="btn btn-danger btn-sm ms-2" (click)="deleteAsignacion(asig.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
